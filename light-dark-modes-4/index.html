<!DOCTYPE html>
<html lang="en">
<head>
    <title>Dark Mode Baseline</title>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <meta name="supported-color-schemes" content="dark light">
    <meta name="color-scheme" content="dark light">
    <meta name="theme-color" content="">

    <link id="css-lightmode" rel="stylesheet" type="text/css" href="css/light.css" media="(prefers-color-scheme: light)" />
    <link id="css-darkmode" rel="stylesheet" type="text/css" href="css/dark.css" media="(prefers-color-scheme: dark)" />
    <link rel="stylesheet" href="css/style.css">

    <!--script type="module" src="script/darkmode.js"></script-->

    <script type='text/javascript'>
        var ntmtSiteVars = new Array();
        ntmtSiteVars['darkmode_enabled'] = false;
        ntmtSiteVars['theme_active'] = 'light';
        ntmtSiteVars['theme_forced'] = '';

        if (localStorage.getItem('theme_forced') == 'light' ||
            localStorage.getItem('theme_forced') == 'dark') {
            ntmtSiteVars['theme_forced'] = localStorage.getItem('theme_forced');
        }

        ntmtSiteVars['theme_active'] = 'light';
        if ((window.matchMedia &&
            window.matchMedia('(prefers-color-scheme: dark)').matches) ||
            ntmtSiteVars['theme_forced'] == 'dark') {
            ntmtSiteVars['theme_active'] = 'dark';
        }

        if (ntmtSiteVars['theme_forced'] != '') {
            ntmtSiteVars['theme_active'] = ntmtSiteVars['theme_forced'];
        }

        if (ntmtSiteVars['theme_active'] == 'dark') {
            ntmtSiteVars['darkmode_enabled'] = true;
        }

        if (ntmtSiteVars['theme_forced'] != '') {
            if (ntmtSiteVars['theme_forced'] == 'dark') {
                document.getElementById('css-darkmode').setAttribute('media', 'all');
                document.getElementById('css-darkmode').disabled = false;

                document.getElementById('css-lightmode').setAttribute('media', 'not all');
                document.getElementById('css-lightmode').disabled = true;

            } else {
                document.getElementById('css-darkmode').setAttribute('media', 'not all');
                document.getElementById('css-darkmode').disabled = true;

                document.getElementById('css-lightmode').setAttribute('media', 'all');
                document.getElementById('css-lightmode').disabled = false;
            }
        }
    </script>
</head>
<body>
    <div class="s-module--blender--d9X_A" id="blender"></div>
    <h1>Hey there! This is just a title</h1>
    <p>I am just a boring text, existing here solely for the purpose of this demo</p>
    <p>And I am just another one like the one above me, because two is better than having only one</p>
    <p>Some body text with a <a href="#">link</a> pointing to nowhere.</p>
    <form>
      <input type="text" placeholder="Some input">
      <button type="button">Some button</button>
    </form>
    <figure>
      <img src="https://cdn.glitch.com/791b2241-459b-4a2e-8cca-c0fdc21f0487%2Fmockaroon-1333674-unsplash.jpg?1558958450566" alt="Colored candy worms" intrinsicsize="948x733">
      <figcaption>Photo by <a href="https://unsplash.com/photos/XVYz_QeiEBw" target="_blank" rel="noopener noreferrer">Mockaroon</a> on <a href="https://unsplash.com/">Unsplash</a>.</figcaption>
    </figure>
    <p>
      <img src="https://cdn.glitch.com/791b2241-459b-4a2e-8cca-c0fdc21f0487%2Fbaseline-wb_incandescent-24px.svg?1558957452117" alt=""> Some icon
      <img src="https://cdn.glitch.com/791b2241-459b-4a2e-8cca-c0fdc21f0487%2Fbaseline-wb_sunny-24px.svg?1558957452243" alt=""> Some icon
    </p>
    <script type='text/javascript'>
        function ntmt_ld_theme_switch() {
            if (ntmtSiteVars['theme_active'] == 'light') {
                ntmtSiteVars['theme_active'] = ntmtSiteVars['theme_forced'] = 'dark';

                document.getElementById('css-darkmode').setAttribute('media', 'all');
                document.getElementById('css-darkmode').disabled = false;

                document.getElementById('css-lightmode').setAttribute('media', 'not all');
                document.getElementById('css-lightmode').disabled = true;
            } else {
                ntmtSiteVars['theme_active'] = ntmtSiteVars['theme_forced'] = 'light';

                document.getElementById('css-darkmode').setAttribute('media', 'not all');
                document.getElementById('css-darkmode').disabled = true;

                document.getElementById('css-lightmode').setAttribute('media', 'all');
                document.getElementById('css-lightmode').disabled = false;
            }
            localStorage.setItem('theme_forced', ntmtSiteVars['theme_active']);

            document.body.classList.add('expand');
        }
    </script>
    <div id="toggle" class="d-dmode-sw-bottom"><button onclick="ntmt_ld_theme_switch();">Switch Dark/Light Mode</button></div>
</body>
</html>